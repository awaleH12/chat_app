{% extends 'base.html' %}
{% block title %}All Profiles{% endblock %}
{% block content %}
    <h1>All Profiles</h1>
        {% if not my_profile %}
            <div style="border:1px solid #cfe2ff; background:#e7f1ff; color:#084298; padding:12px; border-radius:6px; margin:12px 0;">
                <strong>Complete your profile:</strong> You haven't created your profile yet. 
                <a href="{% url 'create_profile' %}" style="background:#0d6efd;color:#fff;padding:6px 10px;border-radius:4px;text-decoration:none; margin-left:8px;">Create profile</a>
            </div>
        {% endif %}
        {% if not my_profile %}
            <p><a href="{% url 'create_profile' %}">Create new profile</a></p>
        {% endif %}
    <div>
        {% for profile in profiles %}
            <section style="border:1px solid #ddd; padding:8px; margin:10px auto;">
                <h2><a href="{% url 'view_profile' profile.pk %}">{{ profile.firstname }} {{ profile.lastname }}</a></h2>
                <p>Age: {{ profile.age }}</p>
                <p>Gender: {{ profile.get_gender_display }}</p>
                <p>Address: {{ profile.address }}</p>
                {% if profile.profile_picture %}
                    <img src="{{ profile.profile_picture.url }}" alt="{{ profile.firstname }}'s picture" style="max-width:200px; height:auto;">
                {% else %}
                    <p>No profile picture</p>
                {% endif %}
                <p style="margin-top:6px; color:#555;">
                    üëç {{ profile.likes_count }} ‚Ä¢ ‚ù§Ô∏è {{ profile.loves_count }} ‚Ä¢ üëé {{ profile.dislikes_count }}
                </p>
                <p style="margin-top:8px;">
                    <a href="{% url 'view_profile' profile.pk %}" style="background:#007bff;color:white;padding:6px 10px;border-radius:4px;text-decoration:none;">View</a>
                </p>
            </section>
        {% empty %}
            <p>No profiles found.</p>
        {% endfor %}
    </div>
{% endblock %}